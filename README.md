# Centralized Control for Omnidirectional Mobile Robots with OptiTrack

## Overview
This repository contains the implementation of a centralized control system for multiple omnidirectional mobile robots within an OptiTrack motion capture environment. The system forms an experimental testbed for testing swarm algorithms, with the current implementation based on a modified Reynolds flocking algorithm.

## Features
- **Centralized Control:** Manages multiple robots using a centralized control architecture.
- **OptiTrack Integration:** Utilizes the OptiTrack motion capture system for precise tracking of robot positions and orientations.
- **Swarm Algorithms:** Implements a modified version of Reynolds flocking algorithm for swarm behavior.
- **Networking:** Uses Winsock for networking and communication with the robots.
- **Multithreading:** Employs C++ multithreading for efficient control and coordination.
- **Error Logging:** Includes functionality for logging errors for further analysis.

## Dependencies
- **Windows OS:** The code is designed to run on Windows.
- **OptiTrack SDK:** Necessary for integration with the OptiTrack motion capture system.
- **Eigen Library:** Used for matrix operations in the swarm algorithm.
- **Winsock:** Required for network communication with the robots.
- **NatNet SDK:** Required for communication with the OptiTrack system.

## Getting Started

### Prerequisites
1. **Install Visual Studio:** Ensure you have Visual Studio installed.
2. **Install OptiTrack SDK:** Download and install the OptiTrack SDK.
3. **Install Eigen Library:** Download and set up the Eigen library.
4. **Configure Winsock:** Ensure Winsock is properly configured on your system.

### Building the Project
1. **Clone the Repository:**
    ```sh
    git clone https://github.com/Yash1th1/Centralized_control_omnidirectional_mobile_robots_optitrack.git
    cd Centralized_control_omnidirectional_mobile_robots_optitrack
    ```
2. **Open Project in Visual Studio:**
    - Open the solution file (`.sln`) in Visual Studio.
3. **Configure Include and Library Paths:**
    - Set the include and library paths for OptiTrack SDK and Eigen library in the project properties.
4. **Build the Solution:**
    - Build the project in Visual Studio.

## Usage

### Running the System
1. **Connect to OptiTrack System:**
    - Ensure the OptiTrack system is set up and calibrated on moptive software.
2. **Execute the Control Program:**
    - Run the executable generated by Visual Studio.
3. **Control Robots:**
    - The program will connect to the robots and start controlling them using the modified Reynolds flocking algorithm.

### Command Line Arguments
- **IP Address and Port:**
    - Specify the IP address and port for each robot to establish the connection.

## Code Structure
- **main.cpp:** Entry point of the application.
- **NATUtils.h:** Utility functions for handling NAT data.
- **commands.h:** Defines the commands used for controlling the robots.
- **robotControlX.cpp:** Functions for controlling individual robots (where `X` is the robot number).
- **DataHandler:** Function to handle incoming data from the OptiTrack system.
- **MessageHandler:** Function to handle error messages from the OptiTrack system.
- **cohesion_n_collision_control.cpp:** Implementation of the modified Reynolds flocking algorithm.

## Contribution
Contributions are welcome! If you have any improvements, bug fixes, or new features, please open an issue or submit a pull request.

